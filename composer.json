{
  "name": "isei-ivei/app",
  "author": "ISEI - IVEI | Irakas Sistema Ebaluatu eta Ikertzeko Erakundea - Instituto Vasco de Evaluación e Investigación Educativa",
  "homepage": "http://ediagnostikoak.net/",
  "autoload": {
    "psr-4": {"": "src/"}
  },
  "autoload-dev": {
    "psr-4": {"": "test/"}
  },
  "require": {
    "php": "^5.4.0|^7.0",
    "doctrine/dbal": "@stable",
    "acelaya/doctrine-enum-type": "@stable",
    "symfony/http-kernel": "@stable",
    "symfony/routing": "@stable",
    "symfony/yaml": "@stable",
    "twig/twig": "@stable"
  },
  "require-dev": {
    "andig/dbcopy": "@dev",
    "incenteev/composer-parameter-handler": "@stable",
    "neronmoon/scriptsdev": "@stable",
    "symfony/phpunit-bridge": "@stable",
    "symfony/process": "@stable",
    "symfony/var-dumper": "@stable"
  },
  "scripts": {
    "codefix": ["php bin/php-cs.phar fix --config-file=.php_cs || true", "php bin/sf-upgrade.phar fix src || true"],
    "deploy": "php bin/deployer.phar deploy",
    "deptrac": "php bin/deptrac.phar",
    "optimize": "@composer dump-autoload --optimize",
    "phpunit": "php bin/phpunit.phar",
    "post-install-cmd": ["@composer optimize", "printf \"\\n\\tVendors had been installed succesfully\\n\\n\""],
    "post-update-cmd": ["@composer optimize", "printf \"\\n\\tVendors had been updated succesfully\\n\\n\""],
    "pre-install-cmd": "printf \"\\n\\tInstalling dependencies\\n\\n\"",
    "pre-update-cmd": "printf \"\\n\\tUpdating dependencies\\n\\n\"",
    "production-install": "@composer install --no-ansi --no-dev --no-interaction --no-progress --no-scripts --optimize-autoloader",
    "production-update": "@composer update --no-ansi --no-dev --no-interaction --no-progress --no-scripts --optimize-autoloader",
    "security-check": "php bin/checker.phar security:check composer.lock"
  },
  "scripts-dev": {
    "assets-copy": [
      "printf \"\\n\\tCopying Assets\\n\\n\"",
      "[ -d \"public\" ] || mkdir public",
      "[ -d \"public/scripts\" ] || mkdir \"public/scripts\"",
      "[ -d \"public/scripts/jquery\" ] || mkdir \"public/scripts/jquery\"",
      "cp -rv ./node_modules/jquery/dist/jquery.* public/scripts/jquery",
      "[ -d \"public/scripts/jquery-resize\" ] || mkdir \"public/scripts/jquery-resize\"",
      "cp -rv ./node_modules/jquery-debounced-and-throttled-resize/jquery.* public/scripts/jquery-resize",
      "cp -rv ./node_modules/jquery-resizable-dom/dist/jquery-* public/scripts/jquery-resize",
      "[ -d \"public/styles\" ] || cp -rv ./node_modules/tachyons/css public/styles",
      "cp -rv ./node_modules/font-awesome/fonts public",
      "cp -rv ./node_modules/font-awesome/css/font-awesome.min.css public/styles",
      "cp -rv ./app/Resources/public/scripts/* public/scripts || true",
      "cp -rv ./app/Resources/public/styles/* public/styles || true",
      "[ -d \"public/images\" ] || mkdir \"public/images\"",
      "[ -d \"public/images/jquery-resize\" ] || mkdir \"public/images/jquery-resize\"",
      "cp -rv ./node_modules/jquery-resizable-dom/assets/* public/images/jquery-resize",
      "cp -rv ./app/Resources/public/images/* \"public/images\"",
      "[ -d \"public/media\" ] || mkdir \"public/media\"",
      "cp -rv ./app/Resources/public/media/* public/media",
      "cp -v ./app/Resources/public/index.php public"
    ],
    "bin-install": [
      "[ -d \"bin\" ] || mkdir bin",
      "[ -e \"bin/checker.phar\" ] || curl -Lo bin/checker.phar http://get.sensiolabs.org/security-checker.phar",
      "[ -e \"bin/deployer.phar\" ] || curl -Lo bin/deployer.phar https://deployer.org/deployer.phar",
      "[ -e \"bin/deptrac.phar\" ] || curl -Lo bin/deptrac.phar http://get.sensiolabs.de/deptrac.phar",
      "[ -e \"bin/php-cs.phar\" ] || curl -Lo bin/php-cs.phar https://github.com/FriendsOfPHP/PHP-CS-Fixer/releases/download/v1.12.3/php-cs-fixer.phar",
      "[ -e \"bin/phpunit.phar\" ] || curl -Lo bin/phpunit.phar https://phar.phpunit.de/phpunit-old.phar",
      "[ -e \"bin/sf-upgrade.phar\" ] || curl -Lo bin/sf-upgrade.phar https://github.com/umpirsky/Symfony-Upgrade-Fixer/releases/download/v0.1.5/symfony-upgrade-fixer.phar",
      "[ -e \"bin/yarn.js\" ] || curl -Lo bin/yarn.js https://github.com/yarnpkg/yarn/releases/download/v0.16.1/yarn-0.16.1.js",
      "printf \"\\n\\tBinaries had been installed succesfully\\n\\n\"",
      "printf \"\\n\\tInstalling Node Packaged Modules\\n\\n\"",
      "node bin/yarn.js install"
    ],
    "bin-update": [
      "@bin-install",
      "php bin/deployer.phar self-update || true",
      "php bin/deptrac.phar selfupdate || true",
      "php bin/php-cs.phar selfupdate || true",
      "php bin/phpunit.phar --self-update || true",
      "printf \"\\n\\tBinaries had been updated succesfully\\n\\n\"",
      "printf \"\\n\\tUpdating Node Packaged Modules\\n\\n\"",
      "node bin/yarn.js upgrade"
    ],
    "build-parameters": ["printf \"\\n\\tBuilding parameters\\n\\n\"", "Incenteev\\ParameterHandler\\ScriptHandler::buildParameters"],
    "post-install-cmd": ["@bin-install", "@assets-copy", "@build-parameters"],
    "post-update-cmd": ["@bin-update", "@assets-copy", "@build-parameters"]
  },
  "extra": {
    "incenteev-parameters": {"file": "app/config/parameters.yml"}
  },
  "config": {
    "bin-dir": "bin",
    "platform": {"php": "5.4.0"},
    "preferred-install": "dist",
    "vendor-dir": "vendor"
  },
  "minimum-stability": "stable"
}
