{% extends 'layout.html.twig' %}

{% block title %}{{ title.eu }} {{ course }} {{ title.es }}{% endblock %}

{% block content %}
    <article class="cf ph4 pv2 tc">
        <div class="fl w-100 w-100-m w-50-ns tc">
            <img src="{{ logo_url }}" class="dib" title="{{ title.eu }} / {{ title.es }}"/>
        </div>
        <div class="fl w-100 w-100-m w-50-ns tc">
            <h3 class="blue ph0 mh0 fw6 w-100">{{ course }}</h3>
            <h3 class="f3 mb2"><strong>{{ title_label }}</strong></h3>
        </div>
    </article>
    <article id="bg-fields" class="pv2 mh2 mh4-ns" style="background: url('{{ bg_url }}') no-repeat; background-size: cover;">
        <form action="{{ form_action }}" accept-charset="utf-8" method="post">
            <div class="pb3 dt v-top w-100 w-75-m w-75-ns white">
                {% include 'partial/_login-fields.html.twig' %}
            </div>
            <div class="mt3 w-100 tc">
                <a href="#" target="_self">
                    <img src="{{ audio_sample_img }}" alt="{{ audio_sample }}" width="70" height="70"/>
                    <audio src="{{ audio_sample_url }}" controls></audio>
                </a>
            </div>
            <div class="mt3 w-100 tc">
                <input name="fperiodo" id="fperiodo" type="hidden" value="{{ course }}"/>
                <input class="b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6" type="submit" value="{{ submit_text }}"/>
            </div>
        </form>
    </article>
    <article class="cf ph4 pv2 tc">
        <div class="fl w-100 tc">
            <img src="{{ logo_url_footer }}" class="dib" title="{{ title.eu }} / {{ title.es }}"/>
        </div>
    </article>
{% endblock %}

{% block javascript %}
    <script type="text/javascript" src="./vendor/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="./vendor/jquery-smartresize/jquery.debouncedresize.js"></script>
    <script type="text/javascript" src="./vendor/jquery-smartresize/jquery.throttledresize.js"></script>
    <script type="text/javascript">
        $(function() {
            var bgResize = function(_window) {
                if (_window.width() < 944)
                    document.getElementById('bg-fields').style.backgroundSize = '100% 100%';
            };
            $(window).bind("resize", function() {
                bgResize($(this));
                //console.log( 'Resize event fired:'+ (+new Date()) );
            });
            $(window).bind("debouncedresize", function() {
                bgResize($(this));
                //console.log( 'Debounce event fired:'+ (+new Date()) );
            });
            $(window).bind("throttledresize", function() {
                bgResize($(this));
                //console.log( 'Throttle event fired:'+ (+new Date()) );
            });
        });
    </script>
{% endblock %}