{% extends 'layout/split-page.html.twig' %}

{% block title flabel ~ ' :: ' ~ title ~ ' :: ' ~ course|title ~ ' :: ' ~ mainTitle|title %}

{% block content %}
    {# @url http://tachyons.io/components/layout/two-column-collapse-one/index.html #}
    <article class="cf side-container">
        {% set isFirstPage = page|number_format == 0 %}
        {% set isLastPage = page|number_format == totalPages|number_format %}
        {% if pageAreaSkip is not same as('a') %}
            <div class="fl pa1-ns pa2-m pa3-l side-left bg-light-gray {{ pageWidth['a']|default }}">
                {% if isLastPage %}
                    {% set rightButtonText = '<i class="fa fa-stop"></i> ' ~ finishButton %}
                {% elseif not isFirstPage %}
                    {% set rightButtonText = '<i class="fa fa-step-backward"></i> ' ~ leftButton %}
                {% endif %}
                {% set formAction = isFirstPage ? '' : '/' ~ (page|number_format - 1) %}
                {% include 'partial/page-side.html.twig' with { 'numbers': 'a' in numbers|keys ? numbers['a'] : null, 'texts': 'a' in texts|keys ? texts['a'] : null, 'images': 'a' in pageImages|keys ? pageImages['a'] : null, 'rightButtonText': rightButtonText|default, 'formAction': formAction } %}
            </div>
        {% endif %}
        {% if pageAreaSkip is null %}
            <div class="side-splitter"></div>
        {% endif %}
        {% if pageAreaSkip is not same as('b') %}
            <div class="fl pa1-ns pa2-m pa3-l side-right bg-near-white {{ pageWidth['b']|default }}">
                {% if isFirstPage %}
                    {% set rightButtonText = startButton ~ ' <i class="fa fa-play"></i>' %}
                {% elseif isLastPage %}
                    {% set rightButtonText = '<i class="fa fa-stop"></i> ' ~ finishButton %}
                {% else %}
                    {% set rightButtonText = rightButton ~ ' <i class="fa fa-step-forward"></i>' %}
                {% endif %}
                {% if pageAreaSkip is not null and not isFirstPage %}
                    {% set leftButtonText = '<i class="fa fa-step-backward"></i> ' ~ leftButton %}
                {% endif %}
                {% set formAction = isLastPage ? '/' : '/' ~ (page|number_format + 1) %}
                {% include 'partial/page-side.html.twig' with { 'numbers': 'b' in numbers|keys ? numbers['b'] : null, 'texts': 'b' in texts|keys ? texts['b'] : null, 'images': 'b' in pageImages|keys ? pageImages['b'] : null, 'rightButtonText': rightButtonText, 'formAction': formAction } %}
            </div>
        {% endif %}
    </article>
{% endblock %}