{% extends 'layout.html.twig' %}

{% block content %}
    <article class="cf ph4 pv2 tc">
        <div class="fl w-100 w-100-m w-50-ns tc">
            <img src="{{ images.logo_url }}" class="dib" title="{{ block('title') }}"/>
        </div>
        <div class="dn dib-ns dn-m fl w-100 w-100-m w-50-ns tc">
            <h3 class="light-blue ph0 mh0 fw6 w-100">{{ course }}</h3>
            <h3 class="navy f3 mb2"><strong>{{ title }}</strong></h3>
        </div>
    </article>
    <article id="has-bg-image" class="br3 cf pv2 mh1-ns mh1-m mh3-l" style="background: url('{{ images.bg_url }}') no-repeat; background-size: cover;">
        <form action="{{ form_action|default('') }}" accept-charset="utf-8" method="{{ form_method|default('post') }}">
            {% block form_content %}{% endblock %}
        </form>
    </article>
    <footer class="pv4 ph3 ph5-m ph6-l mid-gray">
        <div class="fl w-100 tc">
            <img src="{{ images.logo_url_footer }}" class="dib" title="{{ block('title') }}"/>
        </div>
    </footer>
{% endblock %}

{% block scripts %}
    {{ parent() }}
    <script type="text/javascript" src="/js/jquery-resize/jquery.debouncedresize.js"></script>
    {#<script type="text/javascript" src="/js/jquery-resize/jquery.throttledresize.js"></script>#}
    <script type="text/javascript">
        $(function() {
            var _window = $(window),
                bgResize = function(_window) {
                    if (_window.width() < 944)
                        document.getElementById('has-bg-image').style.backgroundSize = '100% 100%';
                    else
                        document.getElementById('has-bg-image').style.backgroundSize = 'cover';
                };
            bgResize(_window);
            _window.on('resize', function() {
                bgResize($(this));
                //console.log( 'Resize event fired:'+ (+new Date()) );
            });
            _window.on('debouncedresize', function() {
                bgResize($(this));
                //console.log( 'Debounce event fired:'+ (+new Date()) );
            });
            {#_window.on('throttledresize', function() {
                bgResize($(this));
                //console.log( 'Throttle event fired:'+ (+new Date()) );
            });#}
            {% block jq_ready %}{% endblock %}
        });
    </script>
{% endblock %}